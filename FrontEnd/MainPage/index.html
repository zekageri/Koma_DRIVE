<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Dr.Random">
    <title>Koma Drive</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.3/animate.min.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="files.css">
</head>
<body>

    <div class="OpenedFolder" style="display: none;">
        <div class="container" style="margin-top:50px;">
            <div class="row">
                <div class="col-8" style="color:wheat">
                    <h3 id="FolderNameOpened"></h3>
                </div>
                <div class="col" style="font-size:30px;">
                    <a class="float-right"onclick="GetBackToFolders()"> <i class="fa fa-times"></i> </a>
                </div>
            </div>
            
          </div>
    </div>

    <div class="filemanager" style="display:block;">
        <div class="search">
            <input type="search" placeholder="Find a file.." />
        </div>
        <div class="breadcrumbs"><span class="folderName">Koma's Drive</span></div>
        <ul class="data animated" id="folderholder"></ul>
        <div class="nothingfound" style="display: none;">
            <div class="nofiles"></div>
            <span>Nincsenek Mappák</span>
        </div>
    </div>


    <div id="CreateFolderModal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h3 class="modal-title">Mappa készítés</h3>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div class="modal-body">

                <form>
                    <div class="form-group">
                      <label for="FolderName">Új Mappa Neve</label>
                      <input type="text" class="form-control" id="FolderName" aria-describedby="foldernameHelp" placeholder="Név">
                      <small id="foldernameHelp" class="form-text text-muted">Ezzel a névvel fog létrejönni a mappa.</small>
                    </div>
                    <!--
                    <div class="form-group">
                        <label class="settinglabel">Ikon</label>
                        <input type="text" class="icon-class-input" value="fa fa-music" />
                        <button type="button" class="btn btn-primary picker-button">Ikon kiválasztása</button>
                        <span class="demo-icon"></span>
                    </div>
                -->
                </form>
<!-- 
                <div id="iconPicker" style="display: none;">
                    <div class="modal-dialog">
                        <div class="modal-content iconcontent">
                            <div class="modal-header">
                                <button type="button" class="close right" onclick="closeIconPicker()" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title left">Ikon Választó</h4>
                            </div>
                            <div class="modal-body">
                                <div>
                                    <ul class="icon-picker-list">
                                        <li>
                                            <a data-class="{{item}} {{activeState}}" data-index="{{index}}">
                                                <span class="{{item}}"></span>
                                                <span class="name-class">{{item}}</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" id="change-icon" class="btn btn-success">
                                    <span class="fa fa-check-circle-o"></span>
                                    Kiválasztott Ikon használata
                                </button>
                                <button type="button" class="btn btn-default" onclick="closeIconPicker()">Mégsem</button>
                            </div>
                        </div>
                    </div>
                </div>
            -->
            </div>

            <div class="modal-footer">
              <button onclick="FolderFormCapture()" type="button" class="btn btn-primary">Készít</button>
              <button type="button" class="btn btn-warning" data-dismiss="modal">Mégsem</button>
            </div>
          </div>
        </div>
      </div>

    <div class="btn-group-fab" role="group" aria-label="FAB Menu">
        <div>
          <button type="button" class="menubtn btn btn-main btn-primary has-tooltip" data-placement="left" title="Menu"> <i class="fa fa-file"></i> </button>
          <button type="button" class="menubtn btn btn-sub btn-success has-tooltip" data-placement="left" title="Create"> <i class="fa fa-plus"></i> </button>
          <button type="button" class="menubtn btn btn-sub btn-danger has-tooltip" data-placement="left" title="Delete"> <i class="fa fa-trash"></i> </button>
          <button type="button" class="menubtn btn btn-sub btn-warning has-tooltip" data-placement="left" title="Download"> <i class="fa fa-download"></i> </button>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mouse0270-bootstrap-notify/3.1.5/bootstrap-notify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="OwnNotify.js"></script>
    <script src="Folder.js"></script>
    <script src="cookie.js"></script>
    <script>
        $( document ).ready(function() {
            ReloadIfNoCookie();
            Notify("Sikeres bejelentkezés!","Üdvözöllek Koma!","success",1500);
            Get_DriveFolders();
            Folder_Things();
        });

        function FolderFormCapture(){
            var FolderNameNow = $("#FolderName").val();
            $.post("/CreateFolder",{
                FolderName: $("#FolderName").val(),
            },
            function(data,status){
                if(data == "Success"){
                    Notify("Mappa létrehozása sikeres! Mappa neve: " + FolderNameNow,"Mappa készítés","success",2500);
                    Get_DriveFolders();
                }else if(data == "Nope"){
                    Notify("Mappa létrehozása sikertelen! Mappa neve: " + FolderNameNow,"Mappa készítés","danger",2500);
                }
            });
        }
        function ReloadIfNoCookie(){
            if( !getCookie("Reload") ){
                setCookie("Reload",true,1);
                location.reload();
            }
        }
    </script>
</body>
</html>